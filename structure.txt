SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: pg_trgm; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS pg_trgm WITH SCHEMA public;


--
-- Name: EXTENSION pg_trgm; Type: COMMENT; Schema: -; Owner: -
--



SET default_tablespace = '';

SET default_with_oids = false;

--
-- Name: ar_internal_metadata; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.ar_internal_metadata (
    key character varying NOT NULL,
    value character varying,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: average_car_weights; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.average_car_weights (
    id bigint NOT NULL,
    weight integer,
    year character varying,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: average_car_weights_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.average_car_weights_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: average_car_weights_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.average_car_weights_id_seq OWNED BY public.average_car_weights.id;


--
-- Name: batteries; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.batteries (
    id bigint NOT NULL,
    dismantling_date date,
    serial_number character varying,
    total_weight integer,
    car_brand character varying,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    bop_id bigint,
    disposal_method_id integer NOT NULL,
    viderebehandler_id bigint
);


--
-- Name: batteries_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.batteries_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: batteries_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.batteries_id_seq OWNED BY public.batteries.id;


--
-- Name: brands; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.brands (
    id bigint NOT NULL,
    code integer,
    name character varying,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: brands_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.brands_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: brands_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.brands_id_seq OWNED BY public.brands.id;


--
-- Name: brreg_companies; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.brreg_companies (
    id bigint NOT NULL,
    organisation_number character varying,
    name character varying,
    street character varying,
    postal_code character varying,
    city character varying,
    phone character varying,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: brreg_companies_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.brreg_companies_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: brreg_companies_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.brreg_companies_id_seq OWNED BY public.brreg_companies.id;


--
-- Name: companies; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.companies (
    id bigint NOT NULL,
    name character varying COLLATE pg_catalog."nb_NO",
    organisation_number character varying,
    street character varying,
    postal_code character varying,
    city character varying,
    phone character varying,
    contact_person character varying,
    contact_email character varying,
    hovedoperatoer_id integer,
    press_type character varying,
    leverandoer character varying,
    type character varying,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    county_id bigint,
    discarded_at timestamp without time zone,
    "foreign" boolean DEFAULT false,
    outside_brreg boolean DEFAULT false
);


--
-- Name: companies_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.companies_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: companies_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.companies_id_seq OWNED BY public.companies.id;


--
-- Name: companies_users; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.companies_users (
    company_id bigint NOT NULL,
    user_id bigint NOT NULL
);


--
-- Name: companies_viderebehandlers; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.companies_viderebehandlers (
    company_id bigint NOT NULL,
    viderebehandler_id bigint NOT NULL
);


--
-- Name: counties; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.counties (
    id bigint NOT NULL,
    name character varying NOT NULL,
    number character varying NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    fylkesmann_email character varying
);


--
-- Name: counties_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.counties_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: counties_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.counties_id_seq OWNED BY public.counties.id;


--
-- Name: datafix_log; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.datafix_log (
    id bigint NOT NULL,
    direction character varying,
    script character varying,
    "timestamp" timestamp without time zone
);


--
-- Name: datafix_log_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.datafix_log_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: datafix_log_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.datafix_log_id_seq OWNED BY public.datafix_log.id;


--
-- Name: disposal_methods; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.disposal_methods (
    id bigint NOT NULL,
    name character varying NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    key character varying
);


--
-- Name: disposal_methods_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.disposal_methods_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: disposal_methods_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.disposal_methods_id_seq OWNED BY public.disposal_methods.id;


--
-- Name: drivstoffs; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.drivstoffs (
    id bigint NOT NULL,
    code integer,
    name character varying,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: drivstoffs_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.drivstoffs_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: drivstoffs_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.drivstoffs_id_seq OWNED BY public.drivstoffs.id;


--
-- Name: fraction_disposal_lines; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.fraction_disposal_lines (
    id bigint NOT NULL,
    fraction_disposal_id bigint,
    frag_parameter_id bigint,
    percentage numeric(15,3),
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: fraction_disposal_lines_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.fraction_disposal_lines_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: fraction_disposal_lines_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.fraction_disposal_lines_id_seq OWNED BY public.fraction_disposal_lines.id;


--
-- Name: fraction_disposal_methods; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.fraction_disposal_methods (
    id bigint NOT NULL,
    fraction_id bigint NOT NULL,
    disposal_method_id bigint NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: fraction_disposal_methods_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.fraction_disposal_methods_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: fraction_disposal_methods_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.fraction_disposal_methods_id_seq OWNED BY public.fraction_disposal_methods.id;


--
-- Name: fraction_disposals; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.fraction_disposals (
    id bigint NOT NULL,
    frag_id bigint,
    from_date date,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: fraction_disposals_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.fraction_disposals_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: fraction_disposals_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.fraction_disposals_id_seq OWNED BY public.fraction_disposals.id;


--
-- Name: fraction_values; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.fraction_values (
    id bigint NOT NULL,
    miljoesanering_id bigint,
    fraction_id bigint,
    total_weight double precision,
    quantity integer,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    viderebehandler_id bigint,
    disposal_method_id bigint
);


--
-- Name: fraction_values_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.fraction_values_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: fraction_values_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.fraction_values_id_seq OWNED BY public.fraction_values.id;


--
-- Name: fractions; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.fractions (
    id bigint NOT NULL,
    waste_type character varying NOT NULL,
    hazardous_waste boolean DEFAULT false NOT NULL,
    default_weight double precision,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    waste_list_number character varying,
    norwegian_waste_number character varying,
    key character varying,
    type character varying DEFAULT 'FractionSingle'::character varying NOT NULL,
    "position" integer
);


--
-- Name: fractions_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.fractions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: fractions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.fractions_id_seq OWNED BY public.fractions.id;


--
-- Name: frag_parameters; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.frag_parameters (
    id bigint NOT NULL,
    number integer,
    sorted_fraction_id bigint,
    disposal_method_id bigint,
    step character varying,
    contributing_to_fraction_id bigint,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: frag_parameters_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.frag_parameters_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: frag_parameters_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.frag_parameters_id_seq OWNED BY public.frag_parameters.id;


--
-- Name: frontpages; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.frontpages (
    id bigint NOT NULL,
    text text,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: frontpages_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.frontpages_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: frontpages_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.frontpages_id_seq OWNED BY public.frontpages.id;


--
-- Name: fylkesmannsrapport_fraction_values; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.fylkesmannsrapport_fraction_values (
    id bigint NOT NULL,
    fylkesmannsrapport_fraction_id bigint,
    viderebehandler_id bigint,
    innlevert_innenfor_ordningen_total_weight double precision DEFAULT 0.0 NOT NULL,
    innlevert_innenfor_ordningen_total_quantity double precision DEFAULT 0.0 NOT NULL,
    innlevert_utenfor_ordningen_total_weight double precision DEFAULT 0.0 NOT NULL,
    innlevert_utenfor_ordningen_total_quantity double precision DEFAULT 0.0 NOT NULL
);


--
-- Name: fylkesmannsrapport_fraction_values_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.fylkesmannsrapport_fraction_values_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: fylkesmannsrapport_fraction_values_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.fylkesmannsrapport_fraction_values_id_seq OWNED BY public.fylkesmannsrapport_fraction_values.id;


--
-- Name: fylkesmannsrapport_fractions; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.fylkesmannsrapport_fractions (
    id bigint NOT NULL,
    fylkesmannsrapport_id bigint,
    fraction_id bigint,
    lager character varying,
    comment character varying,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: fylkesmannsrapport_fractions_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.fylkesmannsrapport_fractions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: fylkesmannsrapport_fractions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.fylkesmannsrapport_fractions_id_seq OWNED BY public.fylkesmannsrapport_fractions.id;


--
-- Name: fylkesmannsrapports; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.fylkesmannsrapports (
    id bigint NOT NULL,
    bop_id bigint,
    year character varying,
    status character varying,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    comment character varying,
    antall_vrak_mottatt integer,
    antall_ikke_ms_paa_lager integer,
    antall_ms_paa_lager integer,
    antall_pressede_paa_lager integer
);


--
-- Name: fylkesmannsrapports_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.fylkesmannsrapports_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: fylkesmannsrapports_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.fylkesmannsrapports_id_seq OWNED BY public.fylkesmannsrapports.id;


--
-- Name: kjoeretoeys; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.kjoeretoeys (
    id bigint NOT NULL,
    group_id character varying,
    chassis_number character varying,
    registration_number character varying,
    registration_year character varying,
    weight character varying,
    merkenummer character varying,
    ny_eller_brukt character varying,
    drivstoff character varying,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: kjoeretoeys_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.kjoeretoeys_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: kjoeretoeys_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.kjoeretoeys_id_seq OWNED BY public.kjoeretoeys.id;


--
-- Name: miljoesanerings; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.miljoesanerings (
    id bigint NOT NULL,
    report_date date,
    bop_id bigint,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    type character varying DEFAULT 'Miljoesaneringskjema'::character varying NOT NULL,
    battery_id bigint
);


--
-- Name: miljoesanerings_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.miljoesanerings_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: miljoesanerings_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.miljoesanerings_id_seq OWNED BY public.miljoesanerings.id;


--
-- Name: schema_migrations; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.schema_migrations (
    version character varying NOT NULL
);


--
-- Name: sorted_fractions; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.sorted_fractions (
    id bigint NOT NULL,
    name character varying,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: sorted_fractions_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.sorted_fractions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: sorted_fractions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.sorted_fractions_id_seq OWNED BY public.sorted_fractions.id;


--
-- Name: users; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.users (
    id integer NOT NULL,
    email character varying DEFAULT ''::character varying NOT NULL,
    encrypted_password character varying DEFAULT ''::character varying NOT NULL,
    reset_password_token character varying,
    reset_password_sent_at timestamp without time zone,
    remember_created_at timestamp without time zone,
    sign_in_count integer DEFAULT 0 NOT NULL,
    current_sign_in_at timestamp without time zone,
    last_sign_in_at timestamp without time zone,
    current_sign_in_ip inet,
    last_sign_in_ip inet,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    confirmation_token character varying,
    confirmed_at timestamp without time zone,
    confirmation_sent_at timestamp without time zone,
    failed_attempts integer DEFAULT 0 NOT NULL,
    unlock_token character varying,
    locked_at timestamp without time zone,
    name character varying COLLATE pg_catalog."nb_NO",
    phone character varying,
    superadmin boolean DEFAULT false,
    discarded_at timestamp without time zone,
    company_id integer,
    created_by_id integer
);


--
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.users_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: users_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.users_id_seq OWNED BY public.users.id;


--
-- Name: versions; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.versions (
    id bigint NOT NULL,
    item_type character varying NOT NULL,
    item_id integer NOT NULL,
    event character varying NOT NULL,
    whodunnit character varying,
    object text,
    created_at timestamp without time zone,
    object_changes text
);


--
-- Name: versions_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.versions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: versions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.versions_id_seq OWNED BY public.versions.id;


--
-- Name: viderebehandlers; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.viderebehandlers (
    id bigint NOT NULL,
    organisation_number character varying,
    name character varying,
    street character varying,
    postal_code character varying,
    city character varying,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    "foreign" boolean DEFAULT false,
    country character varying DEFAULT 'Norge'::character varying,
    outside_brreg boolean DEFAULT false
);


--
-- Name: viderebehandlers_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.viderebehandlers_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: viderebehandlers_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.viderebehandlers_id_seq OWNED BY public.viderebehandlers.id;


--
-- Name: vrak_mottaks; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.vrak_mottaks (
    id bigint NOT NULL,
    registration_date date,
    total_weight integer,
    number_of_vraks integer,
    order_number character varying,
    comment character varying,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    frag_id bigint,
    bop_id bigint,
    approved boolean DEFAULT false,
    approved_at timestamp without time zone,
    settlement_date date
);


--
-- Name: vrak_mottaks_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.vrak_mottaks_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: vrak_mottaks_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.vrak_mottaks_id_seq OWNED BY public.vrak_mottaks.id;


--
-- Name: vraks; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.vraks (
    id bigint NOT NULL,
    organisation_number character varying,
    registration_number character varying,
    chassis_number character varying,
    date date,
    vrakmelding_number character varying,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    bop_id integer,
    company_id bigint,
    registration_year character varying,
    weight integer,
    drivstoff character varying,
    bilmerke character varying,
    adjusted_weight integer
);


--
-- Name: vraks_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.vraks_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: vraks_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.vraks_id_seq OWNED BY public.vraks.id;


--
-- Name: average_car_weights id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.average_car_weights ALTER COLUMN id SET DEFAULT nextval('public.average_car_weights_id_seq'::regclass);


--
-- Name: batteries id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.batteries ALTER COLUMN id SET DEFAULT nextval('public.batteries_id_seq'::regclass);


--
-- Name: brands id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.brands ALTER COLUMN id SET DEFAULT nextval('public.brands_id_seq'::regclass);


--
-- Name: brreg_companies id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.brreg_companies ALTER COLUMN id SET DEFAULT nextval('public.brreg_companies_id_seq'::regclass);


--
-- Name: companies id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.companies ALTER COLUMN id SET DEFAULT nextval('public.companies_id_seq'::regclass);


--
-- Name: counties id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.counties ALTER COLUMN id SET DEFAULT nextval('public.counties_id_seq'::regclass);


--
-- Name: datafix_log id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.datafix_log ALTER COLUMN id SET DEFAULT nextval('public.datafix_log_id_seq'::regclass);


--
-- Name: disposal_methods id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.disposal_methods ALTER COLUMN id SET DEFAULT nextval('public.disposal_methods_id_seq'::regclass);


--
-- Name: drivstoffs id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.drivstoffs ALTER COLUMN id SET DEFAULT nextval('public.drivstoffs_id_seq'::regclass);


--
-- Name: fraction_disposal_lines id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fraction_disposal_lines ALTER COLUMN id SET DEFAULT nextval('public.fraction_disposal_lines_id_seq'::regclass);


--
-- Name: fraction_disposal_methods id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fraction_disposal_methods ALTER COLUMN id SET DEFAULT nextval('public.fraction_disposal_methods_id_seq'::regclass);


--
-- Name: fraction_disposals id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fraction_disposals ALTER COLUMN id SET DEFAULT nextval('public.fraction_disposals_id_seq'::regclass);


--
-- Name: fraction_values id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fraction_values ALTER COLUMN id SET DEFAULT nextval('public.fraction_values_id_seq'::regclass);


--
-- Name: fractions id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fractions ALTER COLUMN id SET DEFAULT nextval('public.fractions_id_seq'::regclass);


--
-- Name: frag_parameters id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.frag_parameters ALTER COLUMN id SET DEFAULT nextval('public.frag_parameters_id_seq'::regclass);


--
-- Name: frontpages id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.frontpages ALTER COLUMN id SET DEFAULT nextval('public.frontpages_id_seq'::regclass);


--
-- Name: fylkesmannsrapport_fraction_values id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fylkesmannsrapport_fraction_values ALTER COLUMN id SET DEFAULT nextval('public.fylkesmannsrapport_fraction_values_id_seq'::regclass);


--
-- Name: fylkesmannsrapport_fractions id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fylkesmannsrapport_fractions ALTER COLUMN id SET DEFAULT nextval('public.fylkesmannsrapport_fractions_id_seq'::regclass);


--
-- Name: fylkesmannsrapports id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fylkesmannsrapports ALTER COLUMN id SET DEFAULT nextval('public.fylkesmannsrapports_id_seq'::regclass);


--
-- Name: kjoeretoeys id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.kjoeretoeys ALTER COLUMN id SET DEFAULT nextval('public.kjoeretoeys_id_seq'::regclass);


--
-- Name: miljoesanerings id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.miljoesanerings ALTER COLUMN id SET DEFAULT nextval('public.miljoesanerings_id_seq'::regclass);


--
-- Name: sorted_fractions id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.sorted_fractions ALTER COLUMN id SET DEFAULT nextval('public.sorted_fractions_id_seq'::regclass);


--
-- Name: users id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.users ALTER COLUMN id SET DEFAULT nextval('public.users_id_seq'::regclass);


--
-- Name: versions id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.versions ALTER COLUMN id SET DEFAULT nextval('public.versions_id_seq'::regclass);


--
-- Name: viderebehandlers id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.viderebehandlers ALTER COLUMN id SET DEFAULT nextval('public.viderebehandlers_id_seq'::regclass);


--
-- Name: vrak_mottaks id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.vrak_mottaks ALTER COLUMN id SET DEFAULT nextval('public.vrak_mottaks_id_seq'::regclass);


--
-- Name: vraks id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.vraks ALTER COLUMN id SET DEFAULT nextval('public.vraks_id_seq'::regclass);


--
-- Name: ar_internal_metadata ar_internal_metadata_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.ar_internal_metadata
    ADD CONSTRAINT ar_internal_metadata_pkey PRIMARY KEY (key);


--
-- Name: average_car_weights average_car_weights_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.average_car_weights
    ADD CONSTRAINT average_car_weights_pkey PRIMARY KEY (id);


--
-- Name: batteries batteries_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.batteries
    ADD CONSTRAINT batteries_pkey PRIMARY KEY (id);


--
-- Name: brands brands_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.brands
    ADD CONSTRAINT brands_pkey PRIMARY KEY (id);


--
-- Name: brreg_companies brreg_companies_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.brreg_companies
    ADD CONSTRAINT brreg_companies_pkey PRIMARY KEY (id);


--
-- Name: companies companies_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.companies
    ADD CONSTRAINT companies_pkey PRIMARY KEY (id);


--
-- Name: counties counties_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.counties
    ADD CONSTRAINT counties_pkey PRIMARY KEY (id);


--
-- Name: datafix_log datafix_log_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.datafix_log
    ADD CONSTRAINT datafix_log_pkey PRIMARY KEY (id);


--
-- Name: disposal_methods disposal_methods_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.disposal_methods
    ADD CONSTRAINT disposal_methods_pkey PRIMARY KEY (id);


--
-- Name: drivstoffs drivstoffs_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.drivstoffs
    ADD CONSTRAINT drivstoffs_pkey PRIMARY KEY (id);


--
-- Name: fraction_disposal_lines fraction_disposal_lines_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fraction_disposal_lines
    ADD CONSTRAINT fraction_disposal_lines_pkey PRIMARY KEY (id);


--
-- Name: fraction_disposal_methods fraction_disposal_methods_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fraction_disposal_methods
    ADD CONSTRAINT fraction_disposal_methods_pkey PRIMARY KEY (id);


--
-- Name: fraction_disposals fraction_disposals_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fraction_disposals
    ADD CONSTRAINT fraction_disposals_pkey PRIMARY KEY (id);


--
-- Name: fraction_values fraction_values_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fraction_values
    ADD CONSTRAINT fraction_values_pkey PRIMARY KEY (id);


--
-- Name: fractions fractions_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fractions
    ADD CONSTRAINT fractions_pkey PRIMARY KEY (id);


--
-- Name: frag_parameters frag_parameters_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.frag_parameters
    ADD CONSTRAINT frag_parameters_pkey PRIMARY KEY (id);


--
-- Name: frontpages frontpages_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.frontpages
    ADD CONSTRAINT frontpages_pkey PRIMARY KEY (id);


--
-- Name: fylkesmannsrapport_fraction_values fylkesmannsrapport_fraction_values_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fylkesmannsrapport_fraction_values
    ADD CONSTRAINT fylkesmannsrapport_fraction_values_pkey PRIMARY KEY (id);


--
-- Name: fylkesmannsrapport_fractions fylkesmannsrapport_fractions_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fylkesmannsrapport_fractions
    ADD CONSTRAINT fylkesmannsrapport_fractions_pkey PRIMARY KEY (id);


--
-- Name: fylkesmannsrapports fylkesmannsrapports_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fylkesmannsrapports
    ADD CONSTRAINT fylkesmannsrapports_pkey PRIMARY KEY (id);


--
-- Name: kjoeretoeys kjoeretoeys_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.kjoeretoeys
    ADD CONSTRAINT kjoeretoeys_pkey PRIMARY KEY (id);


--
-- Name: miljoesanerings miljoesanerings_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.miljoesanerings
    ADD CONSTRAINT miljoesanerings_pkey PRIMARY KEY (id);


--
-- Name: schema_migrations schema_migrations_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.schema_migrations
    ADD CONSTRAINT schema_migrations_pkey PRIMARY KEY (version);


--
-- Name: sorted_fractions sorted_fractions_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.sorted_fractions
    ADD CONSTRAINT sorted_fractions_pkey PRIMARY KEY (id);


--
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- Name: versions versions_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.versions
    ADD CONSTRAINT versions_pkey PRIMARY KEY (id);


--
-- Name: viderebehandlers viderebehandlers_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.viderebehandlers
    ADD CONSTRAINT viderebehandlers_pkey PRIMARY KEY (id);


--
-- Name: vrak_mottaks vrak_mottaks_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.vrak_mottaks
    ADD CONSTRAINT vrak_mottaks_pkey PRIMARY KEY (id);


--
-- Name: vraks vraks_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.vraks
    ADD CONSTRAINT vraks_pkey PRIMARY KEY (id);


--
-- Name: company_on_last_name_idx; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX company_on_last_name_idx ON public.brreg_companies USING gin (name public.gin_trgm_ops);


--
-- Name: index_batteries_on_bop_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_batteries_on_bop_id ON public.batteries USING btree (bop_id);


--
-- Name: index_batteries_on_disposal_method_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_batteries_on_disposal_method_id ON public.batteries USING btree (disposal_method_id);


--
-- Name: index_batteries_on_viderebehandler_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_batteries_on_viderebehandler_id ON public.batteries USING btree (viderebehandler_id);


--
-- Name: index_brreg_companies_on_name; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_brreg_companies_on_name ON public.brreg_companies USING btree (name);


--
-- Name: index_brreg_companies_on_name_and_street_and_postal_code; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_brreg_companies_on_name_and_street_and_postal_code ON public.brreg_companies USING btree (name, street, postal_code);


--
-- Name: index_brreg_companies_on_organisation_number; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_brreg_companies_on_organisation_number ON public.brreg_companies USING btree (organisation_number);


--
-- Name: index_companies_on_county_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_companies_on_county_id ON public.companies USING btree (county_id);


--
-- Name: index_companies_on_discarded_at; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_companies_on_discarded_at ON public.companies USING btree (discarded_at);


--
-- Name: index_companies_on_hovedoperatoer_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_companies_on_hovedoperatoer_id ON public.companies USING btree (hovedoperatoer_id);


--
-- Name: index_companies_on_id_and_type; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_companies_on_id_and_type ON public.companies USING btree (id, type);


--
-- Name: index_companies_on_organisation_number; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_companies_on_organisation_number ON public.companies USING btree (organisation_number);


--
-- Name: index_companies_on_type_and_name; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_companies_on_type_and_name ON public.companies USING btree (type, name);


--
-- Name: index_disposal_methods_on_key; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_disposal_methods_on_key ON public.disposal_methods USING btree (key);


--
-- Name: index_fmr_fraction_values_on_fmr_fractions_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_fmr_fraction_values_on_fmr_fractions_id ON public.fylkesmannsrapport_fraction_values USING btree (fylkesmannsrapport_fraction_id);


--
-- Name: index_fraction_disposal_lines_on_fraction_disposal_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_fraction_disposal_lines_on_fraction_disposal_id ON public.fraction_disposal_lines USING btree (fraction_disposal_id);


--
-- Name: index_fraction_disposal_lines_on_frag_parameter_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_fraction_disposal_lines_on_frag_parameter_id ON public.fraction_disposal_lines USING btree (frag_parameter_id);


--
-- Name: index_fraction_disposal_methods_on_disposal_method_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_fraction_disposal_methods_on_disposal_method_id ON public.fraction_disposal_methods USING btree (disposal_method_id);


--
-- Name: index_fraction_disposal_methods_on_fraction_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_fraction_disposal_methods_on_fraction_id ON public.fraction_disposal_methods USING btree (fraction_id);


--
-- Name: index_fraction_disposals_on_frag_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_fraction_disposals_on_frag_id ON public.fraction_disposals USING btree (frag_id);


--
-- Name: index_fraction_disposals_on_frag_id_and_from_date; Type: INDEX; Schema: public; Owner: -
--

CREATE UNIQUE INDEX index_fraction_disposals_on_frag_id_and_from_date ON public.fraction_disposals USING btree (frag_id, from_date DESC);


--
-- Name: index_fraction_values_on_disposal_method_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_fraction_values_on_disposal_method_id ON public.fraction_values USING btree (disposal_method_id);


--
-- Name: index_fraction_values_on_fraction_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_fraction_values_on_fraction_id ON public.fraction_values USING btree (fraction_id);


--
-- Name: index_fraction_values_on_miljoesanering_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_fraction_values_on_miljoesanering_id ON public.fraction_values USING btree (miljoesanering_id);


--
-- Name: index_fraction_values_on_viderebehandler_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_fraction_values_on_viderebehandler_id ON public.fraction_values USING btree (viderebehandler_id);


--
-- Name: index_fractions_on_id_and_type; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_fractions_on_id_and_type ON public.fractions USING btree (id, type);


--
-- Name: index_fractions_on_key; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_fractions_on_key ON public.fractions USING btree (key);


--
-- Name: index_fractions_on_position; Type: INDEX; Schema: public; Owner: -
--

CREATE UNIQUE INDEX index_fractions_on_position ON public.fractions USING btree ("position");


--
-- Name: index_frag_parameters_on_contributing_to_fraction_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_frag_parameters_on_contributing_to_fraction_id ON public.frag_parameters USING btree (contributing_to_fraction_id);


--
-- Name: index_frag_parameters_on_disposal_method_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_frag_parameters_on_disposal_method_id ON public.frag_parameters USING btree (disposal_method_id);


--
-- Name: index_frag_parameters_on_sorted_fraction_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_frag_parameters_on_sorted_fraction_id ON public.frag_parameters USING btree (sorted_fraction_id);


--
-- Name: index_fylkesmannsrapport_fraction_values_on_viderebehandler_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_fylkesmannsrapport_fraction_values_on_viderebehandler_id ON public.fylkesmannsrapport_fraction_values USING btree (viderebehandler_id);


--
-- Name: index_fylkesmannsrapport_fractions_on_fraction_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_fylkesmannsrapport_fractions_on_fraction_id ON public.fylkesmannsrapport_fractions USING btree (fraction_id);


--
-- Name: index_fylkesmannsrapport_fractions_on_fylkesmannsrapport_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_fylkesmannsrapport_fractions_on_fylkesmannsrapport_id ON public.fylkesmannsrapport_fractions USING btree (fylkesmannsrapport_id);


--
-- Name: index_fylkesmannsrapports_on_bop_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_fylkesmannsrapports_on_bop_id ON public.fylkesmannsrapports USING btree (bop_id);


--
-- Name: index_join_table_companies_users; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_join_table_companies_users ON public.companies_users USING btree (company_id, user_id);


--
-- Name: index_join_table_companies_viderebehandlere; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_join_table_companies_viderebehandlere ON public.companies_viderebehandlers USING btree (company_id, viderebehandler_id);


--
-- Name: index_kjoeretoeys_on_chassis_number; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_kjoeretoeys_on_chassis_number ON public.kjoeretoeys USING btree (chassis_number);


--
-- Name: index_kjoeretoeys_on_registration_number; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_kjoeretoeys_on_registration_number ON public.kjoeretoeys USING btree (registration_number);


--
-- Name: index_miljoesanering_on_type; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_miljoesanering_on_type ON public.miljoesanerings USING btree (type);


--
-- Name: index_miljoesanering_on_type_and_bop_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_miljoesanering_on_type_and_bop_id ON public.miljoesanerings USING btree (type, bop_id);


--
-- Name: index_miljoesanering_on_type_and_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_miljoesanering_on_type_and_id ON public.miljoesanerings USING btree (type, id);


--
-- Name: index_miljoesanering_on_type_and_report_date; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_miljoesanering_on_type_and_report_date ON public.miljoesanerings USING btree (type, report_date DESC);


--
-- Name: index_miljoesanering_order_by_bop_id_and_report_date; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_miljoesanering_order_by_bop_id_and_report_date ON public.miljoesanerings USING btree (bop_id, report_date DESC);


--
-- Name: index_miljoesanerings_on_battery_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_miljoesanerings_on_battery_id ON public.miljoesanerings USING btree (battery_id);


--
-- Name: index_miljoesanerings_on_bop_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_miljoesanerings_on_bop_id ON public.miljoesanerings USING btree (bop_id);


--
-- Name: index_users_on_company_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_users_on_company_id ON public.users USING btree (company_id);


--
-- Name: index_users_on_confirmation_token; Type: INDEX; Schema: public; Owner: -
--

CREATE UNIQUE INDEX index_users_on_confirmation_token ON public.users USING btree (confirmation_token);


--
-- Name: index_users_on_discarded_at; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_users_on_discarded_at ON public.users USING btree (discarded_at);


--
-- Name: index_users_on_email; Type: INDEX; Schema: public; Owner: -
--

CREATE UNIQUE INDEX index_users_on_email ON public.users USING btree (email);


--
-- Name: index_users_on_reset_password_token; Type: INDEX; Schema: public; Owner: -
--

CREATE UNIQUE INDEX index_users_on_reset_password_token ON public.users USING btree (reset_password_token);


--
-- Name: index_users_on_unlock_token; Type: INDEX; Schema: public; Owner: -
--

CREATE UNIQUE INDEX index_users_on_unlock_token ON public.users USING btree (unlock_token);


--
-- Name: index_versions_on_item_type_and_item_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_versions_on_item_type_and_item_id ON public.versions USING btree (item_type, item_id);


--
-- Name: index_viderebehandlers_on_name; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_viderebehandlers_on_name ON public.viderebehandlers USING btree (name);


--
-- Name: index_viderebehandlers_on_organisation_number; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_viderebehandlers_on_organisation_number ON public.viderebehandlers USING btree (organisation_number);


--
-- Name: index_vrak_mottaks_on_bop_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_vrak_mottaks_on_bop_id ON public.vrak_mottaks USING btree (bop_id);


--
-- Name: index_vrak_mottaks_on_bop_id_and_settlement_date; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_vrak_mottaks_on_bop_id_and_settlement_date ON public.vrak_mottaks USING btree (bop_id, settlement_date);


--
-- Name: index_vrak_mottaks_on_frag_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_vrak_mottaks_on_frag_id ON public.vrak_mottaks USING btree (frag_id);


--
-- Name: index_vrak_mottaks_on_frag_id_and_settlement_date; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_vrak_mottaks_on_frag_id_and_settlement_date ON public.vrak_mottaks USING btree (frag_id, settlement_date);


--
-- Name: index_vrak_mottaks_on_settlement_date; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_vrak_mottaks_on_settlement_date ON public.vrak_mottaks USING btree (settlement_date);


--
-- Name: index_vraks_on_bop_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_vraks_on_bop_id ON public.vraks USING btree (bop_id);


--
-- Name: index_vraks_on_company_id; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_vraks_on_company_id ON public.vraks USING btree (company_id);


--
-- Name: index_vraks_on_date; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_vraks_on_date ON public.vraks USING btree (date DESC);


--
-- Name: index_vraks_on_vrakmelding_number; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX index_vraks_on_vrakmelding_number ON public.vraks USING btree (vrakmelding_number);


--
-- Name: ordered_index_miljoesanering_on_type_bop_and_report_date; Type: INDEX; Schema: public; Owner: -
--

CREATE INDEX ordered_index_miljoesanering_on_type_bop_and_report_date ON public.miljoesanerings USING btree (type, bop_id, report_date DESC);


--
-- Name: unique_index_on_companies_viderebehandlere; Type: INDEX; Schema: public; Owner: -
--

CREATE UNIQUE INDEX unique_index_on_companies_viderebehandlere ON public.companies_viderebehandlers USING btree (company_id, viderebehandler_id);


--
-- Name: vraks fk_rails_14772f0f8c; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.vraks
    ADD CONSTRAINT fk_rails_14772f0f8c FOREIGN KEY (company_id) REFERENCES public.companies(id);


--
-- Name: fraction_disposal_methods fk_rails_304424c648; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fraction_disposal_methods
    ADD CONSTRAINT fk_rails_304424c648 FOREIGN KEY (fraction_id) REFERENCES public.fractions(id);


--
-- Name: fylkesmannsrapports fk_rails_35ff1fbb6d; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fylkesmannsrapports
    ADD CONSTRAINT fk_rails_35ff1fbb6d FOREIGN KEY (bop_id) REFERENCES public.companies(id);


--
-- Name: fraction_values fk_rails_443e6b74e8; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fraction_values
    ADD CONSTRAINT fk_rails_443e6b74e8 FOREIGN KEY (disposal_method_id) REFERENCES public.disposal_methods(id);


--
-- Name: fylkesmannsrapport_fractions fk_rails_4b71a91b5d; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fylkesmannsrapport_fractions
    ADD CONSTRAINT fk_rails_4b71a91b5d FOREIGN KEY (fylkesmannsrapport_id) REFERENCES public.fylkesmannsrapports(id);


--
-- Name: vrak_mottaks fk_rails_607a7c634c; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.vrak_mottaks
    ADD CONSTRAINT fk_rails_607a7c634c FOREIGN KEY (bop_id) REFERENCES public.companies(id);


--
-- Name: miljoesanerings fk_rails_623c50820e; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.miljoesanerings
    ADD CONSTRAINT fk_rails_623c50820e FOREIGN KEY (battery_id) REFERENCES public.batteries(id);


--
-- Name: vrak_mottaks fk_rails_6529319c91; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.vrak_mottaks
    ADD CONSTRAINT fk_rails_6529319c91 FOREIGN KEY (frag_id) REFERENCES public.companies(id);


--
-- Name: fylkesmannsrapport_fractions fk_rails_65d8a98f80; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fylkesmannsrapport_fractions
    ADD CONSTRAINT fk_rails_65d8a98f80 FOREIGN KEY (fraction_id) REFERENCES public.fractions(id);


--
-- Name: fylkesmannsrapport_fraction_values fk_rails_6a599786fd; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fylkesmannsrapport_fraction_values
    ADD CONSTRAINT fk_rails_6a599786fd FOREIGN KEY (viderebehandler_id) REFERENCES public.viderebehandlers(id);


--
-- Name: fraction_values fk_rails_835c40b2eb; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fraction_values
    ADD CONSTRAINT fk_rails_835c40b2eb FOREIGN KEY (viderebehandler_id) REFERENCES public.viderebehandlers(id);


--
-- Name: fylkesmannsrapport_fraction_values fk_rails_8f4b541026; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fylkesmannsrapport_fraction_values
    ADD CONSTRAINT fk_rails_8f4b541026 FOREIGN KEY (fylkesmannsrapport_fraction_id) REFERENCES public.fylkesmannsrapport_fractions(id);


--
-- Name: fraction_disposal_methods fk_rails_a7b6895768; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fraction_disposal_methods
    ADD CONSTRAINT fk_rails_a7b6895768 FOREIGN KEY (disposal_method_id) REFERENCES public.disposal_methods(id);


--
-- Name: fraction_values fk_rails_aa3928f883; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fraction_values
    ADD CONSTRAINT fk_rails_aa3928f883 FOREIGN KEY (fraction_id) REFERENCES public.fractions(id);


--
-- Name: companies fk_rails_b53296c3dc; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.companies
    ADD CONSTRAINT fk_rails_b53296c3dc FOREIGN KEY (county_id) REFERENCES public.counties(id);


--
-- Name: fraction_values fk_rails_c518a89573; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.fraction_values
    ADD CONSTRAINT fk_rails_c518a89573 FOREIGN KEY (miljoesanering_id) REFERENCES public.miljoesanerings(id);


--
-- Name: vraks fk_rails_eebb89821d; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.vraks
    ADD CONSTRAINT fk_rails_eebb89821d FOREIGN KEY (bop_id) REFERENCES public.companies(id);


--
-- Name: batteries fk_rails_fac0a07b64; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.batteries
    ADD CONSTRAINT fk_rails_fac0a07b64 FOREIGN KEY (viderebehandler_id) REFERENCES public.viderebehandlers(id);


--
-- PostgreSQL database dump complete
--

SET search_path TO "$user", public;

INSERT INTO "schema_migrations" (version) VALUES
('20180427160412'),
('20180516132931'),
('20180516135937'),
('20180518083157'),
('20180523143629'),
('20180524135257'),
('20180525082152'),
('20180525083432'),
('20180525122330'),
('20180525144153'),
('20180525145045'),
('20180525145217'),
('20180530122238'),
('20180605102803'),
('20180607123620'),
('20180612113119'),
('20180612144813'),
('20180612160349'),
('20180612164943'),
('20180614093014'),
('20180615120910'),
('20180615120934'),
('20180618093650'),
('20180618102227'),
('20180619085016'),
('20180619094703'),
('20180620063357'),
('20180620110410'),
('20180620132155'),
('20180625132350'),
('20180625162526'),
('20180626085049'),
('20180706112326'),
('20180706123221'),
('20180706180136'),
('20180706214652'),
('20180711091737'),
('20180711092442'),
('20180720053414'),
('20180723065933'),
('20180723070334'),
('20180810084510'),
('20180813093604'),
('20180814071638'),
('20180816150559'),
('20180824071622'),
('20180824074457'),
('20180824092238'),
('20180827092908'),
('20180828073331'),
('20180829162536'),
('20180831075037'),
('20180831100510'),
('20180831121243'),
('20180831122139'),
('20180831123625'),
('20180831141129'),
('20180904075047'),
('20180904075146'),
('20180905155000'),
('20180907110247'),
('20180907132959'),
('20180907134602'),
('20180911090647'),
('20180913100032'),
('20180913135216'),
('20180914073125'),
('20180920184833'),
('20180920213546'),
('20181003132158'),
('20181003155551'),
('20181004093416'),
('20181004101436'),
('20181004102819'),
('20181004104448'),
('20181009194652'),
('20181012143311'),
('20181012145942'),
('20181012151854'),
('20181016091519'),
('20181018145639'),
('20181018145658'),
('20181018155133'),
('20181018160324'),
('20181027173143'),
('20181029104413'),
('20181101112437'),
('20181101195718'),
('20181106100822'),
('20181110193342'),
('20181119155039'),
('20181119155427'),
('20181119204848'),
('20181119205610'),
('20181126112604'),
('20181126152935'),
('20181207152604'),
('20181213092025'),
('20181214085208'),
('20181220142746'),
('20181221104426'),
('20181221171745'),
('20190108121714'),
('20190109085332'),
('20190109085333'),
('20190207221936'),
('20190214153244'),
('20190215093431'),
('20190219120959'),
('20190221141532'),
('20190303214620'),
('20190408090951'),
('20190409133601'),
('20190410141118'),
('20190411184804'),
('20191219092938');


